# Roadmap Consolidation Summary

**Date**: 2025-11-23
**Status**: Complete
**Purpose**: Establish single source of truth for DAZZLE development planning

---

## Problem

Prior to this consolidation, DAZZLE had multiple planning documents with unclear hierarchy:
- `TEST_DSL_SPECIFICATION.md` (root directory) - Test DSL feature spec
- `dev_docs/NEXT_STAGES_SPEC.md` - Post-v0.1.0 immediate tasks
- `dev_docs/roadmap_v0_2_0.md` - v0.2.0 feature planning
- `dev_docs/architecture/dp_dsl_evaluation_and_roadmap.md` - Design Pattern DSL plans

**Issues**:
- No clear single source of truth
- Conflicting timelines (test DSL listed as "1-2 weeks" vs reality)
- Documents didn't cross-reference each other
- Hard to understand overall plan

---

## Solution

### 1. Created Master Roadmap

**File**: `/ROADMAP.md`

**Purpose**: Single source of truth for all DAZZLE development planning

**Structure**:
- Version history (v0.1.0, v0.1.1, etc.)
- Current work (post-v0.1.0 priorities)
- Future versions (v0.2.0, v0.3.0, v0.4.0+)
- Planning document index
- Decision-making framework
- Success metrics

**Key Sections**:
```
âœ… v0.1.0 - Initial Release (Complete)
ðŸš§ v0.1.1 - Stack Improvements (Complete)
ðŸŽ¯ Current Work - Post-v0.1.0 (4 phases from NEXT_STAGES_SPEC)
ðŸ”® v0.2.0 - Testing & Production Features (Q1 2026)
ðŸš€ v0.3.0 - DSL Test Translation (Q2 2026)
ðŸŒŸ v0.4.0+ - Future Enhancements
```

### 2. Updated Test DSL Specification

**File**: Moved `TEST_DSL_SPECIFICATION.md` â†’ `dev_docs/test_dsl_specification.md`

**Changes**:
- âœ… Added navigation reference to master ROADMAP.md
- âœ… Replaced vague timeline with realistic 2-phase approach
- âœ… Clarified current status (Phase 0 complete, IR + Parser done)
- âœ… Split implementation into:
  - **Phase 1 (v0.2.0)**: Basic test infrastructure (Jest/pytest for generated code)
  - **Phase 2 (v0.3.0+)**: DSL test translation (activate TestSpec IR)

**Key Insight**:
The test DSL has 70% foundation complete (IR types, parser, examples, docs) but 0% integration (no generators use it yet). Phase 1 focuses on test infrastructure, Phase 2 activates the DSL translation.

### 3. Cross-Referenced Planning Documents

**Updated Files**:
- `dev_docs/NEXT_STAGES_SPEC.md` - Added navigation to ROADMAP.md
- `dev_docs/roadmap_v0_2_0.md` - Added navigation and Q1 2026 target
- `dev_docs/test_dsl_specification.md` - Added navigation and phase clarity

**Navigation Block** (added to all):
```markdown
> ðŸ“ Navigation: This document [describes specific scope].
> For the master roadmap, see `/ROADMAP.md` (single source of truth).
```

---

## Document Hierarchy

```
ROADMAP.md (ROOT - Single Source of Truth)
â”œâ”€â”€ Current Work
â”‚   â””â”€â”€ dev_docs/NEXT_STAGES_SPEC.md (Phases 1-4, post-v0.1.0)
â”œâ”€â”€ v0.2.0 Planning
â”‚   â”œâ”€â”€ dev_docs/roadmap_v0_2_0.md (Feature details)
â”‚   â””â”€â”€ dev_docs/test_dsl_specification.md (Phase 1: Test infrastructure)
â”œâ”€â”€ v0.3.0 Planning
â”‚   â””â”€â”€ dev_docs/test_dsl_specification.md (Phase 2: DSL translation)
â””â”€â”€ Future
    â””â”€â”€ dev_docs/architecture/ (Long-term architectural plans)
```

---

## Test DSL 2-Phase Approach

### Phase 0: Foundation âœ… (COMPLETE)
- IR types (TestSpec, TestAction, TestAssertion, etc.)
- Parser (`parse_test()` in dsl_parser.py)
- Example DSL files (`examples/*/dsl/tests.dsl`)
- Complete documentation

**Status**: Done in v0.1.0

---

### Phase 1: Basic Test Infrastructure (v0.2.0)
**Target**: Q1 2026
**Priority**: HIGH

**Scope**:
- Generate Jest tests for Express stacks (routes, models)
- Generate pytest tests for Django stacks (models, views, APIs)
- Basic CRUD test coverage
- Test configuration and setup files
- NOT from test DSL - standard framework tests

**Example Output**:
```javascript
// Generated by stack, NOT from DSL
describe('Task Model', () => {
  it('should create a task', async () => {
    const task = await Task.create({title: "Test"});
    expect(task.title).toBe("Test");
  });
});
```

**Deliverables**:
- Working test suites for all generated apps
- Test templates and patterns
- Documentation for running tests

**See**: `dev_docs/roadmap_v0_2_0.md`

---

### Phase 2: DSL Test Translation (v0.3.0+)
**Target**: Q2 2026
**Priority**: MEDIUM

**Scope**:
- Activate existing TestSpec IR
- Read `spec.tests` in generators
- Translate test DSL â†’ Jest/pytest
- Support all assertion types
- Validate test references

**Example Output**:
```javascript
// Generated FROM test DSL
test('task_creation_with_defaults_from_dsl', async () => {
  // From: test task_creation_with_defaults in dsl/tests.dsl
  const response = await request(app)
    .post('/api/tasks')
    .send({title: 'Test Task', description: 'Test'});

  expect(response.status).toBe(201);
  expect(response.body.status).toBe('todo'); // From DSL assertion
});
```

**Dependencies**:
- Phase 1 must be complete
- Stack generators need plugin architecture

**See**: `dev_docs/test_dsl_specification.md`

---

## Benefits

### 1. Clear Navigation
- Every planning document points to master ROADMAP.md
- No confusion about which document to consult
- Easy to find detailed specs from high-level plan

### 2. Realistic Timelines
- Test DSL no longer claims "1-2 weeks" implementation
- Clear 2-phase approach matches project priorities
- Version targets based on actual capacity

### 3. Single Source of Truth
- `ROADMAP.md` is the definitive planning document
- Other docs provide implementation details
- Conflicts resolved by deferring to ROADMAP.md

### 4. Better Decision Making
- Clear framework for prioritizing features
- Version boundaries well-defined
- Dependencies tracked

---

## Usage Guidelines

### For Contributors

**Starting a new feature?**
1. Check `ROADMAP.md` for version assignment
2. Read detailed spec in `dev_docs/` if it exists
3. Coordinate with current phase work

**Proposing a feature?**
1. Check `ROADMAP.md` for fit
2. Propose version assignment
3. Create detailed spec in `dev_docs/`
4. Update ROADMAP.md with reference

### For AI Assistants

**Planning work?**
1. Read `ROADMAP.md` first (single source of truth)
2. Check current phase in `NEXT_STAGES_SPEC.md`
3. Consult feature specs in `dev_docs/` for details
4. Never contradict ROADMAP.md timeline

**User asks "what's next?"**
- Consult `ROADMAP.md` â†’ Current Work section
- Reference `NEXT_STAGES_SPEC.md` for immediate priorities

**User asks about specific feature?**
- Check `ROADMAP.md` for version assignment
- Read detailed spec if referenced

---

## Files Modified

### Created
- âœ… `/ROADMAP.md` - Master roadmap (new)
- âœ… `dev_docs/roadmap_consolidation_summary.md` - This file

### Moved
- âœ… `TEST_DSL_SPECIFICATION.md` â†’ `dev_docs/test_dsl_specification.md`

### Updated
- âœ… `dev_docs/NEXT_STAGES_SPEC.md` - Added navigation
- âœ… `dev_docs/roadmap_v0_2_0.md` - Added navigation, Q1 2026 target
- âœ… `dev_docs/test_dsl_specification.md` - 2-phase approach, navigation

---

## Next Steps

1. âœ… Commit roadmap consolidation
2. âœ… Update CLAUDE.md to reference ROADMAP.md
3. âœ… Begin Phase 1 work (NEXT_STAGES_SPEC.md)

---

## Conclusion

DAZZLE now has a clear, hierarchical planning structure with `ROADMAP.md` as the single source of truth. All planning documents cross-reference appropriately, timelines are realistic, and the path forward is clear.

**Key Achievement**: Test DSL implementation split into realistic 2-phase approach matching project priorities (v0.2.0 infrastructure, v0.3.0 DSL translation).

---

**Document Version**: 1.0
**Last Updated**: 2025-11-23
**Author**: Claude
