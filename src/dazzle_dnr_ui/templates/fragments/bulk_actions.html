{# Bulk actions toolbar - appears when table rows are selected #}
{# Parameters: entity_name, actions_endpoint #}
{# Expects parent element to have Alpine x-data with 'selected' array #}
<div x-show="selected.length > 0"
     x-transition:enter="transition-all ease-out duration-200"
     x-transition:enter-start="opacity-0 -translate-y-2"
     x-transition:enter-end="opacity-100 translate-y-0"
     x-transition:leave="transition-all ease-in duration-150"
     x-transition:leave-start="opacity-100 translate-y-0"
     x-transition:leave-end="opacity-0 -translate-y-2"
     class="flex items-center gap-3 p-2 bg-base-200 rounded-lg mb-2"
     style="display: none;">

  <span class="text-sm font-medium">
    <span x-text="selected.length"></span> selected
  </span>

  <div class="flex gap-1">
    {% block bulk_action_buttons %}
    <button class="btn btn-sm btn-ghost"
            hx-post="{{ actions_endpoint }}/bulk-update"
            hx-vals='js:{"ids": Alpine.$data(document.querySelector("[x-data]")).selected}'
            hx-target="#table-body"
            hx-swap="innerHTML"
            hx-headers='{"Accept": "text/html"}'>
      Update
    </button>
    <button class="btn btn-sm btn-error btn-ghost"
            hx-delete="{{ actions_endpoint }}/bulk-delete"
            hx-vals='js:{"ids": Alpine.$data(document.querySelector("[x-data]")).selected}'
            hx-target="#table-body"
            hx-swap="innerHTML"
            hx-headers='{"Accept": "text/html"}'
            hx-confirm="Delete selected {{ entity_name | lower }}s?">
      Delete
    </button>
    {% endblock %}
  </div>

  <button @click="selected = []" class="btn btn-sm btn-ghost ml-auto">
    Clear
  </button>
</div>
